# 画面設計（画面一覧・画面遷移）

## 1. 本資料の目的
本資料は、部活動向け業務支援システムにおける  
**画面一覧および画面遷移を定義し、UI設計およびAPI設計の前提を揃えること**を目的とする。

本資料はMVPスコープ（フェーズ1）を前提とする。

---

## 2. 画面設計方針

- 画面はロール（生徒／監督・コーチ／管理者）ごとに提供する
- 業務ルール（承認可否・状態遷移）はバックエンドで制御する
- フロントエンドは表示制御・入力補助を主目的とする
- 申請系画面（欠席・試合結果）は共通構造を持つ
- 一覧画面には検索・フィルタ機能を設け、運用性を確保する

---

## 3. 画面一覧

### 3.1 共通画面

| 画面ID | 画面名 | 概要 |
|---|---|---|
| C-01 | ログイン | 認証を行う |
| C-02 | ダッシュボード | ロール別トップ画面 |
| C-03 | 通知一覧 | 自身に関連する通知の一覧 |

---

### 3.2 生徒向け画面

| 画面ID | 画面名 | 概要 |
|---|---|---|
| S-01 | 欠席申請一覧 | 自身の欠席申請を一覧表示 |
| S-02 | 欠席申請作成／編集 | 欠席・遅刻等の申請を作成 |
| S-03 | 欠席申請詳細 | 申請内容・状態・証跡を表示 |
| S-04 | 試合結果一覧 | 自身が関与した試合結果一覧 |
| S-05 | 試合結果報告作成 | 試合結果の報告を作成 |
| S-06 | 試合結果詳細 | 試合結果内容・承認状態を表示 |
| S-07 | 練習スケジュール閲覧 | 練習予定の閲覧 |

---

### 3.3 監督・コーチ向け画面

| 画面ID | 画面名 | 概要 |
|---|---|---|
| CCH-01 | 承認待ち一覧 | 欠席・試合結果の承認待ち一覧 |
| CCH-02 | 申請／報告詳細 | 内容確認・承認操作 |
| CCH-03 | 練習スケジュール一覧 | 練習予定の一覧表示 |
| CCH-04 | 練習スケジュール登録／編集 | 練習予定の管理 |

---

### 3.4 管理者向け画面（MVP最小）

| 画面ID | 画面名 | 概要 |
|---|---|---|
| A-01 | 部活管理 | 部活情報の登録・編集 |
| A-02 | ユーザー管理 | 所属・ロール管理 |
| A-03 | 監査ログ一覧 | 操作ログの閲覧 |

※ 管理者は承認業務には関与しない。

---

## 4. 一覧画面 共通仕様

申請系一覧（S-01 / S-04 / CCH-01）には、以下の検索・フィルタ機能を設ける。

### 4.1 フィルタ条件

- ステータス  
  - SUBMITTED  
  - APPROVED  
  - RETURNED  
  - REJECTED  
  - CANCELED  

- 対象期間（From〜To）
- 申請種別（欠席／遅刻／早退／不参加）
- ソート（更新日時降順をデフォルト）

---

## 5. 主要画面の詳細

### 5.1 欠席申請作成／編集画面（S-02）

**目的**  
生徒が欠席／遅刻／早退／不参加を申請する。

**主な入力項目**

- 対象日
- 申請種別
- 理由

**操作**

- 下書き保存（DRAFT）
- 提出（SUBMITTED）
- （RETURNED時）再編集・再提出

---

### 5.2 欠席申請詳細画面（S-03 / CCH-02）

**目的**  
申請内容および証跡を確認する。

**表示内容**

- 申請情報
- 現在の状態
- 操作履歴（証跡）

**操作（状態・ロール依存）**

- 生徒：取消（SUBMITTED時）
- 監督・コーチ：承認／差し戻し／却下

---

### 5.3 試合結果報告作成画面（S-05）

**目的**  
生徒が試合結果を報告する。

**入力項目**

- 試合日
- 対戦相手
- スコア
- 勝敗
- コメント（任意）

**状態の扱い**

- 承認前：仮登録（非公式）
- 承認後：公式記録として確定

**操作**

- 下書き保存
- 提出

---

### 5.4 練習スケジュール管理画面（CCH-04）

**目的**  
監督・コーチが練習スケジュールを管理する。

**入力項目**

- 日付
- 開始／終了時刻
- 場所
- 内容・メニュー
- 備考

**操作**

- 登録
- 編集
- 削除

---

## 6. 通知機能

### 6.1 通知対象イベント

- 申請が承認された
- 申請が差し戻された
- 承認依頼が発生した（コーチ向け）

### 6.2 表示仕様

- 未読／既読管理
- 通知クリックで対象詳細画面へ遷移

---

## 7. 画面遷移

### 7.1 共通遷移

```text
ログイン
  ↓
ダッシュボード
```

## 7.2 生徒向け遷移

```text
ダッシュボード
  ├→ 欠席申請一覧
  │     ├→ 欠席申請詳細
  │     └→ 欠席申請作成／編集
  ├→ 試合結果一覧
  │     ├→ 試合結果詳細
  │     └→ 試合結果報告作成
  ├→ 練習スケジュール閲覧
  └→ 通知一覧
```

## 7.3 監督・コーチ向け遷移
```text
ダッシュボード
  ├→ 承認待ち一覧
  │     └→ 申請／報告詳細（承認／差戻し／却下）
  ├→ 練習スケジュール一覧
  │     └→ 練習スケジュール登録／編集
  └→ 通知一覧
```

## 7.4 管理者向け遷移
```text
ダッシュボード
  ├→ 部活管理
  ├→ ユーザー管理
  └→ 監査ログ一覧
```